// ◮◮◮ GENERATED BY AURORA ◮◮◮
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Books {
  id         String   @id @default(uuid())
  name       String   @unique
  author     String
  created_at DateTime @default(now())
  updated_at DateTime @default(now())

  @@map("books")
}

model PostLike {
  id     String @id @default(uuid())
  user   Users  @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userId String
  post   Post   @relation(fields: [piuId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  piuId  String

  @@unique(fields: [userId, piuId], name: "likeId")
}

model Users {
  id          String     @id @default(uuid())
  name        String
  email       String     @unique
  password    String
  posts       Post[]
  likes_dados PostLike[]
  created_at  DateTime   @default(now())
  updated_at  DateTime   @default(now())

  @@map("users")
}

model Post {
  id              String     @id @default(uuid())
  user            Users      @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
  userId          String
  photoUrl        String
  content         String
  // userId informacao chave de relaciomento
  likes_recebidos PostLike[]

  @@map("posts")
}
